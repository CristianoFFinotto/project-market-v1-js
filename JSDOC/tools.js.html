<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: tools.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: tools.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file: functions.js
 * @author: Cristiano Francesco Finotto
 *          Federico Luciano Stroppiana
 *          Isolde Brustolon
 *          Joele Melchiorre
 * 
 * Funtion tools file
 *
 * Used by flow file to execute some specific tools
 */


 import { config, itemsName } from '../config/config.js';

/*
    Global ID counter 
*/

let lastID = '0';                  

/**
 * Function generate unique id based on global id with specific format
 * @returns {string} increased unique id
 */

 export function productIdGenerator() {        

    if(Number(lastID) &lt; 99){    

        let formatLength = config.idFormat.length;

        switch (formatLength){

            case 2:{
                    lastID = Number(lastID);    // string to number
                    lastID ++;
                    lastID = lastID.toString(); // number to string

                    if(lastID.length === 2)
                        return lastID;
                    else
                        return '0' + lastID;
            }

            case 3:{

                    lastID = Number(lastID);
                    lastID ++;
                    lastID = lastID.toString();

                    if(lastID.length === 1)
                        return '0' + '0' + lastID;
                    else if(lastID.length === 2)
                        return '0' + lastID;
                    else
                        return lastID;
                }
            }
        }

        else {

            lastID = Number(lastID);
            lastID ++;
            lastID = lastID.toString();
            
            return lastID;
        }
}


/**
 * Function permit choose random element on given array
 * @returns {string} random product name chosen on pool
 */

export function productNameGenerator(){

    /*
        math.floor round to lower integer number EX. 5.9888888 -> 5
        math.random generate random number from 0 (inclusive) &lt;-> 1 (exlusive) ex. 0.76757573      
    */

    return itemsName[Math.floor(Math.random() * itemsName.length)];
}

/**
 * Function generate random expiration date from a range startingDate &lt;-> finishingDate
 * @param {object} startingDate - starting date of the program
 * @param {object} finishingDate - finishig date of the program (startingDate + (number of weeks * number of days per week))
 * @param {string} maxLengthDate - max length of the date string
 * @returns {string} expiration date generated
 */

 export function productExpiringDateGenerator(startingDate, finishingDate, maxLengthDate) {

     /*
        .random return random number from 0 inclusive to 1 exlusive ex. 0.3464365
        .floor return less number of that param ex. 5.99999 -> 5
        1 day in milliseconds = 1000 milliseconds * 60 seconds * 60 minutes * 24 hours
        + 1 because random multiply result from random range 0 to n - 1 EX. 0.64534534 * random number 0 &lt;-> n -1
        expiringDate set from start program forward plus random days
     */

    const dayInMilliseconds = 1000 * 60 * 60 * 24;

    let random = Math.floor((Math.random() * (new Date(finishingDate) - new Date(startingDate)) / dayInMilliseconds) + 1);

    let expiringDate = new Date(startingDate);
    expiringDate.setDate(expiringDate.getDate() + random);

    let expiredDateString = expiringDate.toLocaleString('en-GB', {day: 'numeric', month: 'short', year: 'numeric'}).toUpperCase().replaceAll(' ', '-');

    if(expiredDateString.length &lt; maxLengthDate.length)
        return '0' + expiredDateString;
    else
        return expiredDateString;
}



    



</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addProduct">addProduct</a></li><li><a href="global.html#filterProductState">filterProductState</a></li><li><a href="global.html#printingProduct">printingProduct</a></li><li><a href="global.html#productExpiringDateGenerator">productExpiringDateGenerator</a></li><li><a href="global.html#productIdGenerator">productIdGenerator</a></li><li><a href="global.html#productNameGenerator">productNameGenerator</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu Mar 31 2022 12:40:29 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
